# Brisa SMTP Server Example Configuration

server:
  listen: ":2525"
  # Timeouts in a format Go can parse, e.g., "10s", "1m", "1h"
  read_timeout: "1m"
  write_timeout: "1m"

log:
  level: "info" # Can be: debug, info, warn, error
  path: "stdout" # "stdout", "stderr", or a file path

middleware:
  chains:
    # Chain executed for every new connection.
    conn:
      - type: "rate_limiter"
        # Parameters for the 'rate_limiter' middleware.
        limit: 100 # connections per minute
        burst: 20

    # Chain for the 'MAIL FROM' command.
    mail_from:
      - type: "spf_check"
        timeout: "5s"

    # Chain for the 'DATA' command.
    data:
      - type: "dkim_sign"
        selector: "default"
        private_key_path: "/etc/brisa/dkim.pem"
      - type: "antivirus_scan"

